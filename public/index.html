<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
	<title>LED Controller</title>
	<meta name="viewport" content="width=400px" />
	
	<script src="socket.io/socket.io.js"></script>
	<script src="./jscolor.min.js"></script>
	<style type="text/css">
		body {
			text-align: center;
			margin-top: 50px;
			background: #fff;
		}
 

	</style>
  </head>
  <body>
    Color Picker: <input id="myColor" class="jscolor" value="000000""> <br />
	Pattern: <select id="myPattern">
			 	<option selected value="normal">Normal</option>
				<option value="strobe">Strobe</option>
				<option value="fade">Fade</option>
			 </select>
	<br />
	Frequency: <input type="text" id="myFrequency" value="1000">
	<br />
	<p>
	<button onClick="sendColor('ff000000')">Send red</button>
	<button onClick="sendColor('00ff0000')">Send green</button>
	<button onClick="sendColor('0000ff00')">Send blue</button>
	<button onClick="sendColor('000000ff')">Send white</button> 
	<button onClick="sendColor('00000000')">Send off</button>
	<p>
	<button onClick="sendRequest()">SetColor</button> &nbsp;&nbsp;
	<button onClick="showClientIPs()">Show IP Addresses</button><br />
	<div id="IPAddresses"></div>

	<script type="text/javascript">
		var socket = io.connect();
		
		socket.on('receivedColor', function (data) {
			console.log('receivedColor' + data);
			document.body.style.backgroundColor = '#'+data.color;
		});
		
		socket.on('receivedIPs', function (data) {
			console.log(data);
			document.getElementById("IPAddresses").innerHTML = data.addresses;
		});
		
		function showValue(newValue)
		{
			document.getElementById("outputText").innerHTML=newValue;
		}

		function sendColor(color){
			socket.emit('sendColor',{value:color});
			console.log(color);
		}

        function sendRequest(){
            socket.emit('setColor',{color:document.getElementById('myColor').value, pattern:document.getElementById('myPattern').options[document.getElementById('myPattern').selectedIndex].value, frequency:document.getElementById('myFrequency').value});
            console.log(color);
        }
		
		function showClientIPs() {
			socket.emit('showIPs', {value:''});
		}

	</script>
  </body>
</html>
