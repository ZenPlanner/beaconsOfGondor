<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
	<title>LED Controller</title>
	<meta name="viewport" content="width=400px" />
	
	<script src="socket.io/socket.io.js"></script>
	<style type="text/css">
		body {
			text-align: center;
			margin-top: 50px;
			background: #fff;
		}
 

	</style>
  </head>
  <body>
	<button onClick="sendColor('ff000000')">Send red</button>
	<button onClick="sendColor('00ff0000')">Send green</button>
	<button onClick="sendColor('0000ff00')">Send blue</button>
	<button onClick="sendColor('000000ff')">Send white</button> 
	<button onClick="sendColor('00000000')">Send off</button>
	<p>
	<button onClick="showClientIPs()">Show IP Addresses</button><br />
	<div id="IPAddresses"></div>

	<script type="text/javascript">
		var socket = io.connect();
		
		socket.on('recievedColor', function (data) {
			console.log('recievedColor' + data);
			document.body.style.backgroundColor = '#'+data.color;
			//document.getElementById("inputSlider").value = data.color;
			//document.getElementById("outputText").innerHTML = data.color;


		});
		
		socket.on('recievedIPs', function (data) {
			console.log(data);
			document.getElementById("IPAddresses").innerHTML = data.addresses;
		});
		
		function showValue(newValue)
		{
			document.getElementById("outputText").innerHTML=newValue;
		}

		function sendColor(color){
			socket.emit('sendColor',{value:color}); //send the new client its address for auto registry??
			console.log(color);
		}
		
		function showClientIPs() {
			socket.emit('showIPs', {value:''});
		}

	</script>
  </body>
</html>
